<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_npc_idle_down</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>inicializa_objeto();

//Isso vai pro creation code da instance
//mas já que só tem um npc até agora, vou deixar aqui
inicializa_npc("Donovan","spr_npc_idle","spr_npc_move");

//Cria um array de listas que podem ou não serem usadas
//O número máximo é opcional, é o excesso será deletado de qualquer forma (cheque o alarm[0])
max_dialogos = 8

for (i = 0; i &lt; max_dialogos; i++) {
    falas[i] = ds_list_create()
}

//Alarme para tirar o excesso
alarm[0] = 1

//Isso também vai pro creation code
ds_list_add(falas[0],"Sabled Sun - Signals, is a series of space ambient works that portrays signals that the protagonist from the albums 2145, 2146 and 2147 finds on his journey to find out what happened to humanity after", 
"waking up from hibernation deep sleep to an empty world void of human life. As such this is an optional look into what happens in the periphery of the main project of Sabled Sun.")

ds_list_add(falas[1],"Common law (do inglês direito comum) é o direito que se desenvolveu em certos países por meio das decisões dos tribunais, e não mediante atos legislativos ou executivos. Constitui portanto um sistema ou família do direito,", "diferente da família romano-germânica do direito, que enfatiza os atos legislativos. ")

//Isso não
c = 0

texto = noone
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Deleta o excesso
//Coloquei num alarm porque tenho quase certeza que
//o creation code vem depois do Create
for (i = 0; i &lt; max_dialogos; i++) {
    if ds_list_empty(falas[i]) {
        ds_list_destroy(falas[i]);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Diálogo
//inicia o diálogo com npc

var interage_butao = obj_player.primaria_clica or obj_player.secundaria_clica;

if interabox(32) {
    if interage_butao {
        var lista = falas[global.donovan];
        //finalmente matematica discreta serviu pra alguma coisa
        olha = (obj_player.olha + 2) mod 4
        if !instance_exists(texto) {
            //Testa se o player estará sobreposto pela dialogbox
            var yy;
            if obj_player.y - view_yview &gt; 3*view_hview/4 {
                yy = 0
            }
            else {
                yy = 3*view_hview/4
            }
                texto = cria_texto(50,yy,lista[| c++],c_gray,c_white,nome);
            
        }
        else {
            if texto.str == texto.written {
                texto.str = lista[| c++];
                texto.written = "";
                texto.pos = 1;
                texto.alarm[0] = 1
            }
            else {
                texto.written = texto.str;
                texto.alarm[0] = -1
            }
            
            if c &gt; ds_list_size(falas[global.donovan]) {
                c = 0
                with texto {instance_destroy();}
            }
        }
    }
}
else {
    c = 0
    with texto {instance_destroy();}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Debugs

//Detecta se o player está próximo o bastante para iniciar um diálogo
interabox_debug(32);






</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Desenha sprite

image_speed = 0.3;

switch Estado {

    case Parado:
        auto_dir(sprite_idle);
    break;
    
    case Anda:
        auto_dir(sprite_move);
    break;
    
}

draw_self();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
